# 文件传输问题诊断指南

## 常见问题

### 1. 文件传输超时
**症状**：15秒后报超时错误
**原因**：服务器没有响应文件请求
**解决**：检查服务器是否正常运行，检查网络连接

### 2. 路径问题
**症状**：FileNotFoundError
**原因**：文件路径不存在或无权限访问
**解决**：确保选择的文件存在且可读

### 3. 服务器未启动文件服务
**症状**：连接被拒绝
**原因**：文件传输服务器未启动
**解决**：检查 FileTransferServer 是否正常启动

## 调试步骤

### 步骤1：检查服务器日志
查看服务器端控制台输出，看是否有相关错误信息

### 步骤2：检查客户端日志
查看客户端控制台，查找详细的错误堆栈

### 步骤3：测试网络连接
确保客户端可以连接到服务器的主端口和文件传输端口

### 步骤4：简化测试
尝试发送一个很小的文本文件（如1KB），排除大文件问题

## 临时解决方案

如果文件传输功能暂时无法使用，可以：
1. 先测试其他功能（消息、语音通话）
2. 等待完整错误信息后再修复文件传输

## 需要提供的信息

为了帮助诊断，请提供：
1. ✅ 完整的错误堆栈信息
2. ✅ 服务器端的输出/日志
3. ✅ 文件大小和类型
4. ✅ 是发送给用户还是房间
5. ✅ 服务器配置（host、port、file_port）
